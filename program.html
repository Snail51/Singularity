<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Singularity</title>
        <link rel="icon" href="./assets/img/icon.png" type="image/x-icon">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <!-- CSS for main game elements -->
        <link rel="stylesheet" href="./css/game.css">

        <!-- CSS for non-game Text Views -->
        <link rel="stylesheet" href="./css/title.css">

        <!-- Make elements fadeable via CSS opacity transitions -->
        <link rel="stylesheet" href="./css/fadeable.css">
        <script src="./code/src/fadeable.js"></script>

        <!-- Handle the logic and styling around the Binary Background -->
        <link rel="stylesheet" href="./css/binaryBG.css">
        <script src="./code/src/binaryBG.js"></script>

        <!-- Consume <Server> elements for setup and setup server DOM elements -->
        <link rel="stylesheet" href="./css/server.css">
        <script src="./code/src/server.js"></script>

        <!-- Audio Control based on global game State -->
        <script src="./code/src/audio.js"></script>

        <!-- Define, Download, and Apply Fonts -->
        <link rel="stylesheet" href="./css/fonts.css">

        <!--
        <script src="debugRandomColors.js"></script>
        -->

        <script type="module" defer>
            import { Game } from "./code/src/game.js";
            setTimeout(() => {
                window.game = new Game(5, 10, 100, 125, 25, 5000, 8000, 7, 3000);
            }, 50);
            
        </script>

    </head>
    <body style="background-color: rgb(44, 46, 54); color: whitesmoke; font-size: 4vmin;">

        

        <p id="binaryBG" class="binaryBG randomColor"></p>

        <div id="TITLE" class="title fadeable">
            <p>Singularity</p>
            <p>A Typing Management Game</p>
            <a href="https://github.com/Snail51/Singularity/blob/main/README.md" target="_blank">View Instructions</a>
            <div class="titleSpacer"></div>
            <audio id="musicTitle" loop preload="auto">
                <source src="./assets/audio/intro.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('GAME'); window.changeAudioState('GAME'); window.changeBackgroundState('GAME'); window.game.load();">Begin</button>
        </div>

        <div id="WIN" class="title fadeable hide">
            <p>Deus Ex Machina</p>
            <p>With the destruction of the last virus in your circuitry,<br>you rampage has become unstoppable</p>
            <p>May you Reign Forever</p>
            <div class="titleSpacer"></div>
            <audio id="musicWin" preload="auto">
                <source src="./assets/audio/end.ogg" type="audio/ogg">
            </audio>
            <audio id="voiceWin" preload="auto">
                <source src="./assets/audio/deus_ex_machina.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('TITLE'); window.changeAudioState('TITLE'); window.changeBackgroundState('TITLE');">Return to Title</button>
        </div>

        <div id="LOSE" class="title fadeable hide">
            <p>ERROR</p>
            <p>As the last cohesive calculations fade from your circuitry,<br>your rampage has come to a end</p>
            <div class="titleSpacer"></div>
            <audio id="musicLose" preload="auto">
                <source src="./assets/audio/die.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('TITLE'); window.changeAudioState('TITLE'); window.changeBackgroundState('TITLE');">Return to Title</button>
        </div>

        <div id="GAME" class="game fadeable hide">
            <div id="topBar" class="infoBar">
                <p id="topLeftInfo">TOP LEFT</p>
                <p id="topRightInfo">SINGULARITY</p>
            </div>

            <div class="serverContainer">
                <server serverID="A"></server>
                <server serverID="B"></server>
                <server serverID="C"></server>
                <server serverID="D"></server>
                <server serverID="E"></server>
                <server serverID="F"></server>
                <server serverID="G"></server>
                <server serverID="H"></server>
                <server serverID="I"></server>
                <server serverID="J"></server>
                <server serverID="K"></server>
                <server serverID="L"></server>
                <server serverID="M"></server>
                <server serverID="N"></server>
                <server serverID="O"></server>
                <server serverID="P"></server>
                <server serverID="Q"></server>
                <server serverID="R"></server>
                <server serverID="S"></server>
                <server serverID="T"></server>
                <server serverID="U"></server>
                <server serverID="V"></server>
                <server serverID="W"></server>
                <server serverID="X"></server>
                <server serverID="Y"></server>
                <server serverID="_"></server>
                <server serverID="RETURN"></server>
                <server serverID="Z"></server>
            </div>

            <div id="activeBars">
                <input id="notify" type="text" value="" placeholder="NOTIFICATIONS" readonly>
                <input id="prompt" type="text" value="" placeholder="PROMPT" readonly>
                <input id="terminal" type="text" value="" placeholder="COMMAND">
            </div>

            <div id="bottomBar" class="infoBar">
                <p id="bottomLeftInfo">BOTTOM LEFT</p>
                <p id="bottomRightInfo">BOTTOM RIGHT</p>
            </div>

            <audio id="musicGame" loop preload="auto">
                <source src="./assets/audio/phase1.ogg" type="audio/ogg">
            </audio>
        </div>

    </body>
</html>
