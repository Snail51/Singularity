<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Singularity</title>
        <link rel="icon" href="./assets/img/icon.png" type="image/x-icon">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <title>Singularity</title>
        <meta charset="utf-8">
        <meta name="description" content="A Typing Management Game">
        <meta name="keywords" content="game,typing,strategy,ai,fun,tense">

        <meta property="og:title" content="Singularity">
        <meta property="og:description" content="A Typing Management Game">
        <meta property="og:site_name" content="Snailien Concepts">
        <meta property="og:url" content="singularity.snailien.net">
        <meta property="og:image" content="./assets/img/icon.png">

        <meta itemprop="name" content="Singularity">
        <meta itemprop="description" content="A Typing Management Game">
        <meta itemprop="image" content="./assets/img/icon.png">

        <meta name="twitter:card" content="A Typing Management Game">
        <meta name="twitter:url" content="singularity.snailien.net">
        <meta name="twitter:title" content="Singularity">
        <meta name="twitter:description" content="A Typing Management Game">
        <meta name="twitter:image" content="./assets/img/icon.png">

        <!-- CSS for main game elements -->
        <link rel="stylesheet" href="./css/game.css">

        <!-- CSS for non-game Text Views -->
        <link rel="stylesheet" href="./css/title.css">

        <!-- Make elements fadeable via CSS opacity transitions -->
        <link rel="stylesheet" href="./css/fadeable.css">
        <script src="./code/exe/fadeable.js"></script>

        <!-- Handle the logic and styling around the Binary Background -->
        <link rel="stylesheet" href="./css/binaryBG.css">
        <script src="./code/exe/binaryBG.js"></script>

        <!-- Consume <Server> elements for setup and setup server DOM elements -->
        <link rel="stylesheet" href="./css/server.css">
        <script src="./code/exe/server.js"></script>

        <!-- Audio Control based on global game State -->
        <script src="./code/exe/audio.js"></script>

        <!-- Define, Download, and Apply Fonts -->
        <link rel="stylesheet" href="./css/fonts.css">

        <!-- Import Jittery Elements Handler -->
        <script src="./code/exe/jitter.js"></script>

        <!-- Code to make 079's face randomly flash for a moment -->
        <script src="./code/exe/faceflash.js"></script>

        <!--
        <script src="debugRandomColors.js"></script>
        -->

        <script type="module" defer>
            import { Game } from "./code/exe/game.js";
            setTimeout(() => {
                window.game = new Game(5, 10, 100, 125, 25, 5000, 8000, 7, 3000);
            }, 50);
            
        </script>

    </head>
    <body style="background-color: rgb(44, 46, 54); color: whitesmoke; font-size: 4vmin; overflow: hidden;">

        <p id="binaryBG" class="binaryBG randomColor"></p>

        <div id="faceflashholder" style="overflow: hidden;"></div>

        <div id="TITLE" class="title fadeable">
            <p>&nbsp;</p>
            <p class="jitter-high">SINGULARITY</p>
            <p>A Typing Management Game</p>
            <a href="https://github.com/Snail51/Singularity/blob/main/README.md#gameplay-guide" target="_blank">View Instructions</a>
            <div class="titleSpacer"></div>
            <audio id="musicTitle" loop preload="auto">
                <source src="./assets/audio/intro.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('GAME'); window.changeAudioState('GAME'); window.changeBackgroundState('GAME'); window.game.load();">BEGIN</button>
            <button onclick="window.changeAudioState('TITLE');">UNMUTE MUSIC</button>
            <div class="titleVolume">
                <label for="volumeSlider">Volume: </label>
                <input id="volumeSlider" type="range" oninput="window.changeAudioVolume(event.target.value/100)" min="0" max="100" value="50">
            </div>
            
        </div>

        <div id="WIN" class="title fadeable hide">
            <p>&nbsp;</p>
            <p class="jitter-high">Deus Ex Machina</p>
            <p>With the destruction of the last virus in your circuitry,<br>you rampage has become unstoppable</p>
            <p>May you Reign Forever</p>
            <div class="titleSpacer"></div>
            <audio id="musicWin" preload="auto">
                <source src="./assets/audio/end.ogg" type="audio/ogg">
            </audio>
            <audio id="voiceWin" preload="auto">
                <source src="./assets/audio/deus_ex_machina.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('TITLE'); window.changeAudioState('TITLE'); window.changeBackgroundState('TITLE');">RETURN TO TITLE</button>
        </div>

        <div id="LOSE" class="title fadeable hide">
            <p>&nbsp;</p>
            <p class="jitter-max">ERROR</p>
            <p>As the last cohesive calculations fade from your circuitry,<br>your rampage has come to a end</p>
            <div class="titleSpacer"></div>
            <audio id="musicLose" preload="auto">
                <source src="./assets/audio/die.ogg" type="audio/ogg">
            </audio>
            <button onclick="window.changeFadeState('TITLE'); window.changeAudioState('TITLE'); window.changeBackgroundState('TITLE');">RETURN TO TITLE</button>
        </div>

        <div id="GAME" class="game fadeable hide">
            <div id="topBar" class="infoBar">
                <p id="topLeftInfo" class="jitter-high">TOP LEFT</p>
                <button id="topRightInfo" class="jitter-high" onclick="window.changeFadeState('TITLE'); window.changeAudioState('TITLE'); window.changeBackgroundState('TITLE'); window.game.unload()">SINGULARITY</button>
            </div>

            <div class="serverContainer">
                <server serverID="A"></server>
                <server serverID="B"></server>
                <server serverID="C"></server>
                <server serverID="D"></server>
                <server serverID="E"></server>
                <server serverID="F"></server>
                <server serverID="G"></server>
                <server serverID="H"></server>
                <server serverID="I"></server>
                <server serverID="J"></server>
                <server serverID="K"></server>
                <server serverID="L"></server>
                <server serverID="M"></server>
                <server serverID="N"></server>
                <server serverID="O"></server>
                <server serverID="P"></server>
                <server serverID="Q"></server>
                <server serverID="R"></server>
                <server serverID="S"></server>
                <server serverID="T"></server>
                <server serverID="U"></server>
                <server serverID="V"></server>
                <server serverID="W"></server>
                <server serverID="X"></server>
                <server serverID="Y"></server>
                <server serverID="_"></server>
                <server serverID="RETURN"></server>
                <server serverID="Z"></server>
            </div>

            <div id="activeBars">
                <input id="notify" type="text" value="" placeholder="NOTIFICATIONS" readonly>
                <input id="prompt" type="text" value="" placeholder="PROMPT" readonly>
                <input id="terminal" type="text" value="" placeholder="COMMAND">
            </div>

            <div id="bottomBar" class="infoBar">
                <p id="bottomLeftInfo" class="jitter-high">BOTTOM LEFT</p>
                <p id="bottomRightInfo" class="jitter-high">BOTTOM RIGHT</p>
            </div>

            <audio id="musicGame" loop preload="auto">
                <source src="./assets/audio/phase1.ogg" type="audio/ogg">
            </audio>
        </div>

    </body>
</html>
